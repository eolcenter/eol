<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Live Diaporama Viewer</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    width: 100%;
    background: #000;
    overflow: hidden;
  }

  /* Splash screen */
  #splash {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-position: center;
    background-repeat: no-repeat;
    background-size: contain;
    background-image: url('https://www.eolcenter.net/wp-content/uploads/2020/09/eol-open-graph.png');
    z-index: 100;
    display: none;
  }

  iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: none;
    transition: opacity 1s ease;
    opacity: 0;
  }
  iframe.active {
    opacity: 1;
    z-index: 1;
  }
  iframe.inactive {
    z-index: 0;
  }
</style>
</head>
<body>

<!-- Splash screen -->
<div id="splash"></div>

<!-- Iframes for pages -->
<iframe id="frame1" class="inactive"></iframe>
<iframe id="frame2" class="inactive"></iframe>
<iframe id="frame3" class="inactive"></iframe>
<iframe id="frame4" class="inactive"></iframe>
<iframe id="frame5" class="inactive"></iframe>

<script>
const pages = [
  { url: "https://eolcenter.github.io/eol/sky1.html", duration: 18000 },
  { url: "https://eolcenter.github.io/eol/challengegif.html", duration: 15000 },
  { url: "https://eolcenter.github.io/eol/chsky.html", duration: 45000 },
  { url: "https://eolcenter.github.io/eol/podium.html", duration: 15000 },
  { url: "https://eolcenter.github.io/eol/course.html", duration: 10000 }
];

const frames = [
  document.getElementById("frame1"),
  document.getElementById("frame2"),
  document.getElementById("frame3"),
  document.getElementById("frame4"),
  document.getElementById("frame5")
];

const splash1 = document.getElementById('splash');

let index = -1;
const splash1Time = 4000; // 4s

function showNext() {
  // Hide all frames
  frames.forEach(f => f.classList.remove("active"));
  splash1.style.display = 'none';

  if (index === -1) {
    splash1.style.display = 'block';
    index = 0;
    setTimeout(showNext, splash1Time);
  } else if (index < pages.length) {
    const frame = frames[index];
    frame.src = pages[index].url + "?t=" + Date.now(); // force reload
    frame.classList.add("active");
    const duration = pages[index].duration;
    index++;
    setTimeout(showNext, duration);
  } else {
    index = -1; // restart from splash
    showNext();
  }
}

window.addEventListener('load', showNext);
</script>

</body>
</html>
