<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Live Diaporama Viewer</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    width: 100%;
    background: #000;
    overflow: hidden;
  }

  /* Splash screens */
  #splash, #splash2 {
    position: fixed;
    background-position: center;
    background-repeat: no-repeat;
    z-index: 100;
    display: none;
  }
  #splash {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url('https://www.eolcenter.net/wp-content/uploads/2020/09/eol-open-graph.png');
    background-size: contain;
  }
  #splash2 {
    background-image: url('https://imgur.com/5jVeMeU.png');
    background-size: contain;
    width: 90%;
    height: 90%;
    top: 5%;
    left: 5%;
    border: 2px solid rgba(255,255,255,0.5);
    border-radius: 8px;
  }

  iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: none;
    transition: opacity 1s ease;
    opacity: 0;
  }
  iframe.active {
    opacity: 1;
    z-index: 1;
  }
  iframe.inactive {
    z-index: 0;
  }
</style>
</head>
<body>

<!-- Splash screens -->
<div id="splash"></div>
<div id="splash2"></div>

<!-- Iframes for pages -->
<iframe id="frame1" class="inactive"></iframe>
<iframe id="frame2" class="inactive"></iframe>
<iframe id="frame3" class="inactive"></iframe>
<iframe id="frame4" class="inactive"></iframe>
<iframe id="frame5" class="inactive"></iframe>

<script>
const pages = [
  { url: "https://eolcenter.github.io/eol/sky1.html", duration: 18000 }, // 15s NEW PAGE
  { url: "https://eolcenter.github.io/eol/course.html", duration: 10000 }, // 10s
  { url: "https://eolcenter.github.io/eol/test.html", duration: 15000 }, // 15s
  { url: "https://eolcenter.github.io/eol/resultat.html", duration: 15000 }, // 15s
  { url: "https://eolcenter.github.io/eol/podium.html", duration: 10000 } // 10s
];

const frames = [
  document.getElementById("frame1"),
  document.getElementById("frame2"),
  document.getElementById("frame3"),
  document.getElementById("frame4"),
  document.getElementById("frame5")
];

const splash1 = document.getElementById('splash');
const splash2 = document.getElementById('splash2');

let index = -1;
const splash1Time = 4000; // 4s
const splash2Time = 5000; // 5s

function showNext() {
  // Hide all frames
  frames.forEach(f => f.classList.remove("active"));
  splash1.style.display = 'none';
  splash2.style.display = 'none';

  if (index === -1) {
    splash1.style.display = 'block';
    index = -0.5;
    setTimeout(showNext, splash1Time);
  } else if (index === -0.5) {
    splash2.style.display = 'block';
    index = 0;
    setTimeout(showNext, splash2Time);
  } else if (index < pages.length) {
    const frame = frames[index];
    frame.src = pages[index].url + "?t=" + Date.now(); // force reload
    frame.classList.add("active");
    const duration = pages[index].duration;
    index++;
    setTimeout(showNext, duration);
  } else {
    index = -1; // restart from first splash
    showNext();
  }
}

window.addEventListener('load', showNext);
</script>

</body>
</html>
